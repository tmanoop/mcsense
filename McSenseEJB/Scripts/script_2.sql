CREATE TABLE APP.REPUTATION (
		REPUTATION_ID INTEGER NOT NULL,
		PERSON_ID INTEGER NOT NULL,
		REPUTATION_SCORE INTEGER DEFAULT 0 NOT NULL
	);

CREATE TABLE APP.BANK (
		BANK_ACCOUNT_ID INTEGER NOT NULL,
		TRANSACTION_ID INTEGER NOT NULL,
		TRANSACTION_DATE DATE NOT NULL,
		TRANSACTION_TYPE VARCHAR(1),
		AMOUNT INTEGER DEFAULT 0,
		TASK_ID INTEGER NOT NULL
	);

CREATE TABLE APP.PEOPLE (
		PERSON_ID INTEGER NOT NULL,
		BANK_ACCOUNT_ID INTEGER NOT NULL,
		PERSON_LNAME VARCHAR(15),
		PERSON_FNAME VARCHAR(15),
		PERSON_ADDRESS VARCHAR(30)
	);

CREATE TABLE APP.TASK (
		TASK_ID INTEGER NOT NULL,
		CLIENT_PERSON_ID INTEGER NOT NULL,
		PROVIDER_PERSON_ID INTEGER,
		TASK_STATUS VARCHAR(1) DEFAULT 'P' NOT NULL,
		TASK_TYPE VARCHAR(1),
		PARENT_TASK_ID INTEGER
	);

CREATE UNIQUE INDEX SQL110802164800951 ON APP.PEOPLE (null);

CREATE INDEX SQL110805172515680 ON APP.REPUTATION (null);

CREATE UNIQUE INDEX SQL110802170552530 ON APP.REPUTATION (null);

CREATE UNIQUE INDEX SQL110802170550090 ON APP.BANK (null);

CREATE UNIQUE INDEX SQL110802170554810 ON APP.TASK (null);

CREATE UNIQUE INDEX SQL110802164800950 ON APP.PEOPLE (null);

ALTER TABLE APP.REPUTATION ADD CONSTRAINT SQL110802170552530 PRIMARY KEY (REPUTATION_ID);

ALTER TABLE APP.BANK ADD CONSTRAINT SQL110802170550090 PRIMARY KEY (TRANSACTION_ID);

ALTER TABLE APP.PEOPLE ADD CONSTRAINT SQL110802164800950 PRIMARY KEY (PERSON_ID);

ALTER TABLE APP.TASK ADD CONSTRAINT SQL110802170554810 PRIMARY KEY (TASK_ID);

ALTER TABLE APP.REPUTATION ADD CONSTRAINT SQL110805172515680 FOREIGN KEY (PERSON_ID)
	REFERENCES APP.PEOPLE (PERSON_ID);

